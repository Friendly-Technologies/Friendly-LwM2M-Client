<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Friendly LWM2M client: Examples of Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Friendly LWM2M client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('examples_tag.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Examples of Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section covers examples of the use of the user interface and code generation utilities that were described in more detail in the <a class="el" href="architecture_tag.html">Architecture</a> section. A complete example of using <b>Wpp</b> is in the <a href="../../examples/"><b>examples</b></a> folder, it does not match the code in this section because the code in this section shows how to use <b>Wpp</b> and its interfaces.</p>
<ul>
<li><a class="el" href="examples_tag.html#ex_client_state_management">State Management</a></li>
<li><a class="el" href="examples_tag.html#ex_registry_management">Registry Management</a></li>
<li><a class="el" href="examples_tag.html#ex_object_management">Object Management</a></li>
<li><a class="el" href="examples_tag.html#ex_desc_add_func">Description of additional functionality</a></li>
<li><a class="el" href="examples_tag.html#ex_platform_dependent">Platform Dependencies</a></li>
<li><a class="el" href="examples_tag.html#ex_wpp_task_queue">Wpp Task Queue</a></li>
<li><a class="el" href="examples_tag.html#ex_object_maker_tools">Object Maker Tools</a></li>
</ul>
<h3><a class="anchor" id="ex_client_state_management"></a>
State Management</h3>
<p>Consider the initialization of <b><a class="el" href="classwpp_1_1WppClient.html" title="Represents a client interface for Wpp library.">wpp::WppClient</a></b> and its use. Assume that the user has implemented the <b><a class="el" href="classwpp_1_1WppPlatform.html" title="The WppPlatform class provides a platform-specific implementation for the Wpp library.">wpp::WppPlatform</a></b>, <b><a class="el" href="classwpp_1_1WppGuard.html" title="The WppGuard class provides a linker callback class that must be implemented by the user.">wpp::WppGuard</a></b>, <b><a class="el" href="classwpp_1_1WppConnection.html">wpp::WppConnection</a></b> interfaces and has the corresponding classes <b>Platform</b>, <b>Guard</b>, <b>Connection</b>.</p>
<p>We include the header file of the library that describes the client. Then include the header file of the library that describes the registry. If necessary, make the wpp namespace available for the entire file. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="ttc" id="aWppClient_8h_html"><div class="ttname"><a href="WppClient_8h.html">WppClient.h</a></div></div>
<div class="ttc" id="anamespacewpp_html"><div class="ttname"><a href="namespacewpp.html">wpp</a></div><div class="ttdoc">The WppConnection class represents a connection interface for the Wpp library.</div><div class="ttdef"><b>Definition:</b> <a href="WppClient_8cpp_source.html#l00014">WppClient.cpp:14</a></div></div>
</div><!-- fragment --><p>In the <b>main()</b> function, we initialize the client and start state processing.</p>
<p>We create an instance of the class that implements the <b><a class="el" href="classwpp_1_1WppConnection.html">wpp::WppConnection</a></b> interface. </p><div class="fragment"><div class="line">Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
</div><!-- fragment --><p>We create the WppClient object and pass the structure with the client name "TestLwm2mClient" and the connection object that will allow receiving and sending messages. </p><div class="fragment"><div class="line">WppClient::create({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
</div><!-- fragment --><p>At this stage, the client is created and ready to work, in order to make sure that the client has been initialized, we can use the <b><a class="el" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0" title="Checks if the WppClient is created.">wpp::WppClient::isCreated()</a></b> method. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (WppClient::isCreated() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
</div><!-- fragment --><p>To use a client, we must first take ownership of it by calling <b><a class="el" href="classwpp_1_1WppClient.html#a071dd1e9ef32a11a5e1c532e6af0ec06" title="Takes ownership of the WppClient.">wpp::WppClient::takeOwnership()</a></b> or <b><a class="el" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da" title="Takes ownership of the WppClient, blocking until it becomes available.">wpp::WppClient::takeOwnershipBlocking()</a></b>. </p><div class="fragment"><div class="line">WppClient *client = WppClient::takeOwnershipBlocking();</div>
</div><!-- fragment --><p>After successfully taking ownership, we can access the object registry, or get the current state of the client, for information on other functionality, see the <b><a class="el" href="classwpp_1_1WppClient.html" title="Represents a client interface for Wpp library.">wpp::WppClient</a></b> class implementation. </p><div class="fragment"><div class="line">WppRegistry &amp;registry = client-&gt;registry();</div>
<div class="line">lwm2m_client_state_t clientState = client-&gt;getState();</div>
</div><!-- fragment --><p>If the interaction with the client is complete, then control can be returned so that other program threads or interrupts can interact with it. But if the client will be used only from one context, then control over it can not be returned because this mechanism exists to synchronize simultaneous access to the client from different program contexts. </p><div class="fragment"><div class="line">client-&gt;giveOwnership();</div>
</div><!-- fragment --><p>If the main configurations of the client are completed, then we can start processing the internal state, in the while loop.</p>
<p>We take ownership of the client, if we need to avoid blocking, we can use <b><a class="el" href="classwpp_1_1WppClient.html#a071dd1e9ef32a11a5e1c532e6af0ec06" title="Takes ownership of the WppClient.">wpp::WppClient::takeOwnership()</a></b>, but in this case we need to make sure that exactly the client object is returned. </p><div class="fragment"><div class="line">client = WppClient::takeOwnershipBlocking();</div>
</div><!-- fragment --><p>We call the client's internal state handler, which processes incoming messages from the server, tasks, and the client's internal state. The <b><a class="el" href="classwpp_1_1WppClient.html#aafd44d1c81f8ee217675bcd27173b67f" title="Processes the state of the Wakaama core. This function performs the necessary work by the Wakaama cor...">wpp::WppClient::loop()</a></b> method returns the number of seconds after which the handler needs to be called again, this is only needed so that the user can optimize their code, for example going to sleep mode. There are no limits on the maximum frequency of calls to the <b><a class="el" href="classwpp_1_1WppClient.html#aafd44d1c81f8ee217675bcd27173b67f" title="Processes the state of the Wakaama core. This function performs the necessary work by the Wakaama cor...">wpp::WppClient::loop()</a></b> method. </p><div class="fragment"><div class="line">time_t sleepTimeSec = client-&gt;loop();</div>
</div><!-- fragment --><p>We return control over the client so that other parts of the code can work with it. </p><div class="fragment"><div class="line">client-&gt;giveOwnership();</div>
</div><!-- fragment --><p>We delay the execution process for the period of time specified by the client. But this code is written only as a test, because a delay for a long time is impractical in real systems, when a message arrives from the server, it is necessary to interrupt the delay so that the client can process it as quickly as possible, or when the user creates a new task that must be executed with zero delay. The optimal delay value is 1 second. </p><div class="fragment"><div class="line">delay(sleepTimeSec);</div>
</div><!-- fragment --><p>After finishing work with <b><a class="el" href="classwpp_1_1WppClient.html" title="Represents a client interface for Wpp library.">wpp::WppClient</a></b>, if necessary, can be called <b><a class="el" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366" title="Removes the WppClient.">wpp::WppClient::remove()</a></b> to release the resources occupied by the client and the registry. </p><div class="fragment"><div class="line">WppClient::remove();</div>
</div><!-- fragment --><p>Will give a full example of the code in which the client can be used by several threads at the same time, but with blocking of the main cycle. By using the <b><a class="el" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da" title="Takes ownership of the WppClient, blocking until it becomes available.">wpp::WppClient::takeOwnershipBlocking()</a></b> method, which blocks execution until it takes ownership. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    </div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line">    WppRegistry &amp;registry = client-&gt;registry();</div>
<div class="line">    lwm2m_client_state_t clientState = client-&gt;getState();</div>
<div class="line">    client-&gt;giveOwnership();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line">        time_t sleepTimeSec = client-&gt;loop();</div>
<div class="line">        client-&gt;giveOwnership();</div>
<div class="line">        some_other_code();</div>
<div class="line">        <span class="comment">// Just for example</span></div>
<div class="line">        delay(sleepTimeSec);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aclasswpp_1_1WppClient_html_a9cda9286f3b2610674a468df69364366"><div class="ttname"><a href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">wpp::WppClient::remove</a></div><div class="ttdeci">static void remove()</div><div class="ttdoc">Removes the WppClient.</div><div class="ttdef"><b>Definition:</b> <a href="WppClient_8cpp_source.html#l00054">WppClient.cpp:54</a></div></div>
<div class="ttc" id="aclasswpp_1_1WppClient_html_ac80c3ab6f50a522b72d7902e23b9b4b0"><div class="ttname"><a href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">wpp::WppClient::isCreated</a></div><div class="ttdeci">static bool isCreated()</div><div class="ttdoc">Checks if the WppClient is created.</div><div class="ttdef"><b>Definition:</b> <a href="WppClient_8cpp_source.html#l00062">WppClient.cpp:62</a></div></div>
<div class="ttc" id="aclasswpp_1_1WppClient_html_ac8e1eb3f8542f0f0f93f3abf897a70da"><div class="ttname"><a href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">wpp::WppClient::takeOwnershipBlocking</a></div><div class="ttdeci">static WppClient * takeOwnershipBlocking()</div><div class="ttdoc">Takes ownership of the WppClient, blocking until it becomes available.</div><div class="ttdef"><b>Definition:</b> <a href="WppClient_8cpp_source.html#l00073">WppClient.cpp:73</a></div></div>
<div class="ttc" id="aclasswpp_1_1WppClient_html_acbb496e6d1f834b441a8d4ff17b2166e"><div class="ttname"><a href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">wpp::WppClient::create</a></div><div class="ttdeci">static bool create(const ClientInfo &amp;info, WppConnection &amp;connection, WppErrHandler errHandler=NULL)</div><div class="ttdoc">Creates a WppClient with the specified client information, connection, and maximum sleep time.</div><div class="ttdef"><b>Definition:</b> <a href="WppClient_8cpp_source.html#l00039">WppClient.cpp:39</a></div></div>
</div><!-- fragment --><p>An example of code in which the client can be used by several threads at the same time, without blocking the main loop. Because it uses <b><a class="el" href="classwpp_1_1WppClient.html#a071dd1e9ef32a11a5e1c532e6af0ec06" title="Takes ownership of the WppClient.">wpp::WppClient::takeOwnership()</a></b> which immediately returns <b>NULL</b> when the client take ownership fails. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    </div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line">    WppRegistry &amp;registry = client-&gt;registry();</div>
<div class="line">    lwm2m_client_state_t clientState = client-&gt;getState();</div>
<div class="line">    client-&gt;giveOwnership();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client = <a class="code" href="classwpp_1_1WppClient.html#a071dd1e9ef32a11a5e1c532e6af0ec06">WppClient::takeOwnership</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (client != NULL) {</div>
<div class="line">            client-&gt;loop();</div>
<div class="line">            client-&gt;giveOwnership();</div>
<div class="line">        }</div>
<div class="line">        some_other_code();</div>
<div class="line">        <span class="comment">// Just for example</span></div>
<div class="line">        delay(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aclasswpp_1_1WppClient_html_a071dd1e9ef32a11a5e1c532e6af0ec06"><div class="ttname"><a href="classwpp_1_1WppClient.html#a071dd1e9ef32a11a5e1c532e6af0ec06">wpp::WppClient::takeOwnership</a></div><div class="ttdeci">static WppClient * takeOwnership()</div><div class="ttdoc">Takes ownership of the WppClient.</div><div class="ttdef"><b>Definition:</b> <a href="WppClient_8cpp_source.html#l00066">WppClient.cpp:66</a></div></div>
</div><!-- fragment --><p>An example of code in which the client can be used by only one thread, so in this case there are no blocking. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line"> </div>
<div class="line">    WppRegistry &amp;registry = client-&gt;registry();</div>
<div class="line">    lwm2m_client_state_t clientState = client-&gt;getState();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client-&gt;loop();</div>
<div class="line">        some_other_code();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="ex_registry_management"></a>
Registry Management</h3>
<p>In the section <a class="el" href="examples_tag.html#ex_client_state_management">State Management</a> an example of creating, initializing and using <b><a class="el" href="classwpp_1_1WppClient.html" title="Represents a client interface for Wpp library.">wpp::WppClient</a></b> was considered. This section will consider the interface for accessing and interacting with the registry. As a basis, we will use the code from the <a class="el" href="examples_tag.html#ex_client_state_management">State Management</a> section, adding to it the <b>objects_registering()</b> method, which will interact with the registry. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> objects_registering(WppClient &amp;client) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (objects_registering(*client) == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client-&gt;loop();</div>
<div class="line">        some_other_code();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><p>According to <a href="https://www.openmobilealliance.org/release/LightweightM2M/V1_1_1-20190617-A/OMA-TS-LightweightM2M_Core-V1_1_1-20190617-A.pdf"><b>Lightweight Machine to Machine Technical Specification</b></a> objects can be of two types MANDATORY and OPTIONAL. MANDATORY objects are obliged to be present for the correct work of the client. In <b><a class="el" href="classwpp_1_1WppRegistry.html" title="The WppRegistry class represents a registry for managing LWM2M objects.">wpp::WppRegistry</a></b>, this division is conditional, the only feature inherent in MANDATORY objects is that they are immediately registered in the client after creating <b><a class="el" href="classwpp_1_1WppClient.html" title="Represents a client interface for Wpp library.">wpp::WppClient</a></b>, that is, for MANDATORY objects you do not need to separately call <b><a class="el" href="classwpp_1_1WppRegistry.html#a78a0f15a78a1bb90a426cae9cf647eb5" title="Registers an Object in the registry.">wpp::WppRegistry::registerObj()</a></b>, but this behavior applies only to the three MANDATORY objects <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mServer.html">wpp::Lwm2mServer</a></b> and <b><a class="el" href="classwpp_1_1Lwm2mSecurity.html">wpp::Lwm2mSecurity</a></b>. The registry allows to disable and enable the necessary objects at the compilation stage to save client resources, this is done through the <a href="../../wpp/configs/wpp_config.cmake"><b>wpp_config.cmake</b></a> configuration file. The integration of new objects into the registry is also supported due to the set of utilities <a href="../../utils/object_maker"><b>object_maker</b></a>.</p>
<p>For example, in the file <a href="../../wpp/configs/objects_config.cmake"><b>wpp_config.cmake</b></a> support for six objects was enabled: <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mServer.html">wpp::Lwm2mServer</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mSecurity.html">wpp::Lwm2mSecurity</a></b>, <b><a class="el" href="classwpp_1_1ConnectivityMonitoring.html">wpp::ConnectivityMonitoring</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mAccessControl.html">wpp::Lwm2mAccessControl</a></b>, <b><a class="el" href="classwpp_1_1FirmwareUpdate.html">wpp::FirmwareUpdate</a></b> corresponding configurations.</p>
<p>Consider an example of using the <b><a class="el" href="classwpp_1_1WppRegistry.html" title="The WppRegistry class represents a registry for managing LWM2M objects.">wpp::WppRegistry</a></b> interface. We will release the <b>objects_registering()</b> method. First, we will get access to the register of objects. </p><div class="fragment"><div class="line">WppRegistry &amp;registry = client.registry();</div>
</div><!-- fragment --><p>Objects <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mServer.html">wpp::Lwm2mServer</a></b> and <b><a class="el" href="classwpp_1_1Lwm2mSecurity.html">wpp::Lwm2mSecurity</a></b> are already registered, so it remains to register <b><a class="el" href="classwpp_1_1ConnectivityMonitoring.html">wpp::ConnectivityMonitoring</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mAccessControl.html">wpp::Lwm2mAccessControl</a></b>, <b><a class="el" href="classwpp_1_1FirmwareUpdate.html">wpp::FirmwareUpdate</a></b>. Registration of objects is necessary for the client to inform the server of their presence, since the client sends the server a list of all registered objects, not existing ones. Before registering, we should make sure that the objects exist, this can be done using the <b><a class="el" href="classwpp_1_1WppRegistry.html#a4ecc9f9b2986231466efe44c8859ce90" title="Checks if an Object with the given objId exists in the registry.">wpp::WppRegistry::isExist()</a></b> method. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (registry.isExist(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152a4fcfdc49c42778923655e7fd6b9ac840">OBJ_ID::CONNECTIVITY_MONITORING</a>) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">if</span> (registry.isExist(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152a7f11b6864cc3ab5573ba7394aeff64c3">OBJ_ID::LWM2M_ACCESS_CONTROL</a>) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">if</span> (registry.isExist(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ac1bd10ea5c407e6c7952a6be1493d91f">OBJ_ID::FIRMWARE_UPDATE</a>) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="ttc" id="anamespacewpp_html_ae35ffa7d3ba976b8e0e90ffb4c973152a4fcfdc49c42778923655e7fd6b9ac840"><div class="ttname"><a href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152a4fcfdc49c42778923655e7fd6b9ac840">wpp::CONNECTIVITY_MONITORING</a></div><div class="ttdeci">@ CONNECTIVITY_MONITORING</div><div class="ttdef"><b>Definition:</b> <a href="ObjectID_8h_source.html#l00029">ObjectID.h:29</a></div></div>
<div class="ttc" id="anamespacewpp_html_ae35ffa7d3ba976b8e0e90ffb4c973152a7f11b6864cc3ab5573ba7394aeff64c3"><div class="ttname"><a href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152a7f11b6864cc3ab5573ba7394aeff64c3">wpp::LWM2M_ACCESS_CONTROL</a></div><div class="ttdeci">@ LWM2M_ACCESS_CONTROL</div><div class="ttdef"><b>Definition:</b> <a href="ObjectID_8h_source.html#l00032">ObjectID.h:32</a></div></div>
<div class="ttc" id="anamespacewpp_html_ae35ffa7d3ba976b8e0e90ffb4c973152ac1bd10ea5c407e6c7952a6be1493d91f"><div class="ttname"><a href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ac1bd10ea5c407e6c7952a6be1493d91f">wpp::FIRMWARE_UPDATE</a></div><div class="ttdeci">@ FIRMWARE_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="ObjectID_8h_source.html#l00038">ObjectID.h:38</a></div></div>
</div><!-- fragment --><p>To register objects in the <b><a class="el" href="classwpp_1_1WppRegistry.html#a78a0f15a78a1bb90a426cae9cf647eb5" title="Registers an Object in the registry.">wpp::WppRegistry::registerObj()</a></b> method, we need to pass the <b><a class="el" href="classwpp_1_1Object.html" title="The Object class implements manipulation with Instance interface class and its inheritors.">wpp::Object</a></b> instance. There are two ways to get <b><a class="el" href="classwpp_1_1Object.html" title="The Object class implements manipulation with Instance interface class and its inheritors.">wpp::Object</a></b>: through a method that always returns an object of the same type such as <b><a class="el" href="classwpp_1_1WppRegistry.html#a45aacbf59a432300fc47b91705901b28">wpp::WppRegistry::device()</a></b>, or through <b><a class="el" href="classwpp_1_1WppRegistry.html#ada21355749fd54b5bc6c4e7967d5899b" title="Retrieves a pointer to the Object with the given objId.">wpp::WppRegistry::object()</a></b> which returns a <b><a class="el" href="classwpp_1_1Object.html" title="The Object class implements manipulation with Instance interface class and its inheritors.">wpp::Object</a></b> with the specified <b><a class="el" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152" title="Enumeration of object IDs in the Wpp library.">wpp::OBJ_ID</a></b>. </p><div class="fragment"><div class="line">Object &amp;connMon = registry.connectivityMonitoring();</div>
<div class="line">Object &amp;acl = registry.lwm2mAccessControl();</div>
<div class="line">Object *fwUpd = registry.object(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ac1bd10ea5c407e6c7952a6be1493d91f">OBJ_ID::FIRMWARE_UPDATE</a>);</div>
</div><!-- fragment --><p>We perform the registration of the necessary objects. </p><div class="fragment"><div class="line">registry.registerObj(connMon);</div>
<div class="line">registry.registerObj(acl);</div>
<div class="line">registry.registerObj(*fwUpd);</div>
</div><!-- fragment --><p>After registration, we can check whether the objects are registered by calling the <b><a class="el" href="classwpp_1_1WppRegistry.html#a6137e5921994af0035770f1881472962" title="Checks if an Object is registered in the registry.">wpp::WppRegistry::isObjRegistered()</a></b> method. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (registry.isObjRegistered(connMon) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">if</span> (registry.isObjRegistered(acl) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="keywordflow">if</span> (registry.isObjRegistered(*fwUpd) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
</div><!-- fragment --><p>So this is the entire core interface for <a class="el" href="classwpp_1_1WppRegistry.html" title="The WppRegistry class represents a registry for managing LWM2M objects.">wpp::WppRegistry</a>, it allows to register objects and access them. Complete code example. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> objects_registering(WppClient &amp;client) {</div>
<div class="line">    WppRegistry &amp;registry = client.registry();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (registry.isObjExist(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152a4fcfdc49c42778923655e7fd6b9ac840">OBJ_ID::CONNECTIVITY_MONITORING</a>) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (registry.isObjExist(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152a7f11b6864cc3ab5573ba7394aeff64c3">OBJ_ID::LWM2M_ACCESS_CONTROL</a>) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (registry.isObjExist(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ac1bd10ea5c407e6c7952a6be1493d91f">OBJ_ID::FIRMWARE_UPDATE</a>) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    Object &amp;connMon = registry.connectivityMonitoring();</div>
<div class="line">    Object &amp;acl = registry.lwm2mAccessControl();</div>
<div class="line">    Object *fwUpd = registry.object(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ac1bd10ea5c407e6c7952a6be1493d91f">OBJ_ID::FIRMWARE_UPDATE</a>);</div>
<div class="line"> </div>
<div class="line">    registry.registerObj(connMon);</div>
<div class="line">    registry.registerObj(acl);</div>
<div class="line">    registry.registerObj(*fwUpd);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (registry.isObjRegistered(connMon) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (registry.isObjRegistered(acl) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (registry.isObjRegistered(*fwUpd) == <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (objects_registering(*client) == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client-&gt;loop();</div>
<div class="line">        some_other_code();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="ex_object_management"></a>
Object Management</h3>
<p>In the previous sections, we discussed creating a client and registering objects, but objects themselves have no value because all information about the state of an object is stored in its instances. Therefore, this section will consider the creation of object instances, their initialization, and use. As a basis, we will take the code from the previous section and add to it three functions <b>device_init()</b>, <b>server_init</b> and <b>security_init()</b>, which will contain the initialization of three relevant objects, thanks to which the example will meet the minimum requirements under which the client will be able to join the LwM2M server.</p>
<p>The method of monitoring objects and their instances will also be considered, thanks to which the user will be able to receive information about the necessary events.</p>
<p>Since an initialization example will be given for <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b>, <b><a class="el" href="classwpp_1_1Lwm2mServer.html">wpp::Lwm2mServer</a></b> and <b><a class="el" href="classwpp_1_1Lwm2mSecurity.html">wpp::Lwm2mSecurity</a></b>, which by default are registered in the client, the <b>objects_registering()</b> method can be removed from the code example. The initial version of the code will look like this. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> device_init(WppClient &amp;client) {}</div>
<div class="line"><span class="keywordtype">void</span> server_init(WppClient &amp;client) {}</div>
<div class="line"><span class="keywordtype">void</span> security_init(WppClient &amp;client) {}</div>
<div class="line"><span class="keywordtype">void</span> read_device_data(WppClient &amp;client) {}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line"> </div>
<div class="line">    device_init(*client);</div>
<div class="line">    server_init(*client);</div>
<div class="line">    security_init(*client);</div>
<div class="line">    read_device_data(*client);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client-&gt;loop();</div>
<div class="line">        some_other_code();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><p>Let's start by initializing the <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b> object and create an implementation for the <b>device_init()</b> function.</p>
<p>We get the register of objects from which we extract the <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b> object. </p><div class="fragment"><div class="line">Object *deviceObj = client.registry().object(<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ab3052fb7eb80b555afee49ccb5e3606d">OBJ_ID::DEVICE</a>);</div>
<div class="ttc" id="anamespacewpp_html_ae35ffa7d3ba976b8e0e90ffb4c973152ab3052fb7eb80b555afee49ccb5e3606d"><div class="ttname"><a href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ab3052fb7eb80b555afee49ccb5e3606d">wpp::DEVICE</a></div><div class="ttdeci">@ DEVICE</div><div class="ttdef"><b>Definition:</b> <a href="ObjectID_8h_source.html#l00017">ObjectID.h:17</a></div></div>
</div><!-- fragment --><p>We create an instance of the <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b> object. To do this, we need to call the <b><a class="el" href="classwpp_1_1Object.html#a2905bb68695e421c76ed3e0740bb4089" title="Creates an instance of the object.">wpp::Object::createInstance()</a></b> method and pass the instance ID as a parameter, if the ID is not important, then it can be omitted, in which case the first available value will be taken. </p><div class="fragment"><div class="line">Instance *deviceInst = deviceObj-&gt;createInstance();</div>
</div><!-- fragment --><p>It should be noted that there are two ways of accessing objects. The generalized interface was given above, here is example of using simplified interface. </p><div class="fragment"><div class="line">Object &amp;deviceObj = Device::object(client);</div>
<div class="line">Instance *deviceInst = Device::createInst(client);</div>
</div><!-- fragment --><p>If the object instance has already been created and you need to access it, you can use one of the following methods: <b><a class="el" href="classwpp_1_1Object.html#a0367aab216c8d199790ceed0d33f8608" title="Gets an instance of the object.">wpp::Object::instance()</a></b> or <b>wpp::T::instance()</b>. </p><div class="fragment"><div class="line">Instance *deviceInst = client.registry().device().instance(0);</div>
<div class="line">Instance *deviceInst = Device::instance(client, 0);</div>
</div><!-- fragment --><p>After creating the instance, we can proceed to its initialization. First let's clarify that according to <a href="https://www.openmobilealliance.org/release/LightweightM2M/V1_1_1-20190617-A/OMA-TS-LightweightM2M_Core-V1_1_1-20190617-A .pdf"><b>Lightweight Machine to Machine Technical Specification</b></a> there are three types of operations that can be performed by the server on the data of the object instance: writing, reading and execution, but only writing and reading can be performed from the user's side, since the behavior when performed is specified by the user, and there is no point in duplicating the behavior from the user's side.</p>
<p>To set the value, there are two types of methods <b>wpp::Instance::set(..., const T &amp;value)</b> and <b>wpp::Instance::set(..., T &amp;&amp;value)</b> the first creates two copies in memory, the second moves the data from the user change to the instance. Obtaining a value <b><a class="el" href="classwpp_1_1ResourceContainer.html#af6e4760c2eb194d787ef6d8c82155192">wpp::Instance::get()</a></b> returns a const reference to data. When writing or reading data, two parameters are passed to the corresponding method, the first indicates the ID of the resource to which it is necessary to write or from which it is necessary to read, the second parameter the user variable from which the value for writing will be taken, or to which the value of the resource will be written. Data is stored as resources inside the object instance. Each resource has its own unique ID, which is the same for all instances of the object. The purpose and characteristics of each resource in the object are standardized and described <a href="https://technical.openmobilealliance.org/OMNA/LwM2M/LwM2MRegistry.html"><b>here</b></a>.</p>
<p>Let's consider the most important characteristics:</p><ol type="1">
<li>A resource has only one type of data throughout its existence. Data types are standardized and have their representation in <b>Wpp</b>: <b>STRING_T</b> (String), <b>INT_T</b> (Integer), <b>UINT_T</b> (Unsigned Integer), <b>FLOAT_T</b> (Float) , <b>BOOL_T</b> (Boolean), <b>OPAQUE_T</b> (Opaque), <b>TIME_T</b> (Time), <b>OBJ_LINK_T</b> (Objlnk), <b>CORE_LINK_T</b> (Corelnk), <b>EXECUTE_T</b> (none). The data type of the value being set or read must always be one of the above.</li>
<li>A resource can contain several values of the same type (as an array), in which case the resource is considered <b>MULTIPLE</b>, and each element of this resource is called a <b>resource instance</b>. Each resource instance has its own unique ID within this resource. Therefore, if you need to refer to a resource instance, then in the corresponding method you need to specify two values, the first will indicate the ID of the resource itself, the other will indicate the ID of the resource instance.</li>
<li>Resources may have certain restrictions regarding the values they store, these restrictions are described by the standard and reflected in the object implementations.</li>
</ol>
<p>Let's initialize the <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b> object, each object implementation has a list of available resources in the form of an enum for easier access. </p><div class="fragment"><div class="line">deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(Device::ERROR_CODE_11, 0, Device::NO_ERROR);</div>
<div class="line">deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::SUPPORTED_BINDING_AND_MODES_16, <a class="code" href="WppBindings_8h.html#a959387f6d34733937aaf15628bbbb4b6">WPP_BINDING_UDP</a>);</div>
<div class="line">deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::MANUFACTURER_0, <span class="stringliteral">&quot;Friendly&quot;</span>);</div>
<div class="line">deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::MODEL_NUMBER_1, <span class="stringliteral">&quot;Lightweight M2M Client&quot;</span>);</div>
<div class="line">deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::SERIAL_NUMBER_2, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="ttc" id="aWppBindings_8h_html_a959387f6d34733937aaf15628bbbb4b6"><div class="ttname"><a href="WppBindings_8h.html#a959387f6d34733937aaf15628bbbb4b6">WPP_BINDING_UDP</a></div><div class="ttdeci">#define WPP_BINDING_UDP</div><div class="ttdef"><b>Definition:</b> <a href="WppBindings_8h_source.html#l00006">WppBindings.h:6</a></div></div>
<div class="ttc" id="anamespacewpp_html_a75684c1276ab7219241c564bb3dc7e35"><div class="ttname"><a href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">wpp::INT_T</a></div><div class="ttdeci">int64_t INT_T</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00041">WppTypes.h:41</a></div></div>
<div class="ttc" id="anamespacewpp_html_a8d11d19df01a38346c5da68ea17b973b"><div class="ttname"><a href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">wpp::STRING_T</a></div><div class="ttdeci">std::string STRING_T</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00045">WppTypes.h:45</a></div></div>
</div><!-- fragment --><p>If the resource has type <b>EXECUTE_T</b>, then this resource is functional, the function bound to it will be executed when the server applies the execute operation to the specified resource. For example, let's set a function that must be executed when the server wants to reboot the device. </p><div class="fragment"><div class="line">deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a4d85886156583d63137abaa60175de67">EXECUTE_T</a>&gt;(Device::REBOOT_4, [](Instance&amp; inst, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> resId, <span class="keyword">const</span> <a class="code" href="namespacewpp.html#ab2fb9aad76c194fe9302c79db9934420">OPAQUE_T</a>&amp; data) {</div>
<div class="line">    _rebootDevice = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">});</div>
<div class="ttc" id="anamespacewpp_html_a4d85886156583d63137abaa60175de67"><div class="ttname"><a href="namespacewpp.html#a4d85886156583d63137abaa60175de67">wpp::EXECUTE_T</a></div><div class="ttdeci">std::function&lt; bool(Instance &amp;, ID_T, const OPAQUE_T &amp;)&gt; EXECUTE_T</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00072">WppTypes.h:72</a></div></div>
<div class="ttc" id="anamespacewpp_html_a7775e04007579766830fbaf269f32883"><div class="ttname"><a href="namespacewpp.html#a7775e04007579766830fbaf269f32883">wpp::ID_T</a></div><div class="ttdeci">uint16_t ID_T</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00015">WppTypes.h:15</a></div></div>
<div class="ttc" id="anamespacewpp_html_ab2fb9aad76c194fe9302c79db9934420"><div class="ttname"><a href="namespacewpp.html#ab2fb9aad76c194fe9302c79db9934420">wpp::OPAQUE_T</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; OPAQUE_T</div><div class="ttdoc">Opaque - represent buffer or string as lwm2m_data_t.value.asBuffer.</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00049">WppTypes.h:49</a></div></div>
</div><!-- fragment --><p>Objects are not required to implement all resources, only the main ones that are marked as MANDATORY in the documentation, so the implementation of the object is made in such a way that it allows turning on and off the necessary resources through the definition, which will reduce memory consumption. Each implementation of the object contains a file <b>object_name+Config.h</b> through which you can enable or disable the required resource, the file for the object can be found at the following path <b>wpp/registry/objects/object_name/object_name+Config.h</b>.</p>
<p>The complete version of the code for initializing the <b><a class="el" href="classwpp_1_1Device.html">wpp::Device</a></b> object. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> device_init(WppClient &amp;client) {</div>
<div class="line">    Instance *deviceInst = Device::createInst(client);</div>
<div class="line"> </div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(Device::ERROR_CODE_11, 0, Device::NO_ERROR);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::SUPPORTED_BINDING_AND_MODES_16, <a class="code" href="WppBindings_8h.html#a959387f6d34733937aaf15628bbbb4b6">WPP_BINDING_UDP</a>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::MANUFACTURER_0, <span class="stringliteral">&quot;Friendly&quot;</span>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::MODEL_NUMBER_1, <span class="stringliteral">&quot;Lightweight M2M Client&quot;</span>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::SERIAL_NUMBER_2, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a4d85886156583d63137abaa60175de67">EXECUTE_T</a>&gt;(Device::REBOOT_4, [](Instance&amp; inst, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> resId, <span class="keyword">const</span> <a class="code" href="namespacewpp.html#ab2fb9aad76c194fe9302c79db9934420">OPAQUE_T</a>&amp; data) {</div>
<div class="line">        _rebootDevice = <span class="keyword">true</span>;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    });</div>
<div class="line">}</div>
</div><!-- fragment --><p>For the <b><a class="el" href="classwpp_1_1Lwm2mServer.html">wpp::Lwm2mServer</a></b> object. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> server_init(WppClient &amp;client) {</div>
<div class="line">    Instance *server = Lwm2mServer::createInst(client);</div>
<div class="line">    </div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(Lwm2mServer::SHORT_SERVER_ID_0, 123);</div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Lwm2mServer::BINDING_7, <a class="code" href="WppBindings_8h.html#a959387f6d34733937aaf15628bbbb4b6">WPP_BINDING_UDP</a>);</div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a917eca442177715c1f24b2f503946ec2">TIME_T</a>&gt;(Lwm2mServer::LIFETIME_1, 25);</div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a37d99ef4cc731935cc1468b1ad88fe32">BOOL_T</a>&gt;(Lwm2mServer::NOTIFICATION_STORING_WHEN_DISABLED_OR_OFFLINE_6, <span class="keyword">false</span>);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacewpp_html_a37d99ef4cc731935cc1468b1ad88fe32"><div class="ttname"><a href="namespacewpp.html#a37d99ef4cc731935cc1468b1ad88fe32">wpp::BOOL_T</a></div><div class="ttdeci">bool BOOL_T</div><div class="ttdoc">Wpp data types bindings.</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00040">WppTypes.h:40</a></div></div>
<div class="ttc" id="anamespacewpp_html_a917eca442177715c1f24b2f503946ec2"><div class="ttname"><a href="namespacewpp.html#a917eca442177715c1f24b2f503946ec2">wpp::TIME_T</a></div><div class="ttdeci">INT_T TIME_T</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00044">WppTypes.h:44</a></div></div>
</div><!-- fragment --><p>For the <b><a class="el" href="classwpp_1_1Lwm2mSecurity.html">wpp::Lwm2mSecurity</a></b> object. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> security_init(WppClient &amp;client) {</div>
<div class="line">    <a class="code" href="classwpp_1_1Instance.html">wpp::Instance</a> *security = Lwm2mSecurity::createInst(client);</div>
<div class="line"> </div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(Lwm2mSecurity::SECURITY_MODE_2, LWM2M_SECURITY_MODE_NONE);</div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a37d99ef4cc731935cc1468b1ad88fe32">BOOL_T</a>&gt;(Lwm2mSecurity::BOOTSTRAP_SERVER_1, <span class="keyword">false</span>);</div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(Lwm2mSecurity::SHORT_SERVER_ID_10, 123);</div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Lwm2mSecurity::LWM2M_SERVER_URI_0, <span class="stringliteral">&quot;coap://demodm.friendly-tech.com:5683&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aclasswpp_1_1Instance_html"><div class="ttname"><a href="classwpp_1_1Instance.html">wpp::Instance</a></div><div class="ttdoc">Instance is interface class that implements manipulation with derived class resources....</div><div class="ttdef"><b>Definition:</b> <a href="Instance_8h_source.html#l00040">Instance.h:40</a></div></div>
<div class="ttc" id="aclasswpp_1_1ResourceContainer_html_ac7105afd1a5e4d0139606ad7ae480486"><div class="ttname"><a href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">wpp::ResourceContainer::set</a></div><div class="ttdeci">bool set(ID_T resId, const T &amp;value)</div><div class="ttdoc">Set data value by copy for the resource.</div><div class="ttdef"><b>Definition:</b> <a href="ResourceContainer_8h_source.html#l00215">ResourceContainer.h:215</a></div></div>
</div><!-- fragment --><p>Let's give an example of the code for getting data from an object. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> read_device_data(WppClient &amp;client) {</div>
<div class="line">    Instance *deviceInst = Device::instance();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a> errorCode = deviceInst-&gt;get&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(Device::ERROR_CODE_11, 0);</div>
<div class="line">    <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> binding = deviceInst-&gt;get&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::SUPPORTED_BINDING_AND_MODES_16);</div>
<div class="line">    <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> manufacture = deviceInst-&gt;get&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::MANUFACTURER_0);</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> &amp;model = deviceInst-&gt;getPtr&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(Device::MODEL_NUMBER_1);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Consider the interface for monitoring objects and instances. First, consider the method of receiving events from <b><a class="el" href="classwpp_1_1Object.html" title="The Object class implements manipulation with Instance interface class and its inheritors.">wpp::Object</a></b>. To observe objects, it is necessary to implement one interface: <b><a class="el" href="classwpp_1_1ObjOpObserver.html" title="The ObjOpObserver class is an abstract base class that defines the interface for observing object ope...">wpp::ObjOpObserver</a></b>, and subscribe to the observation by calling the corresponding method <b><a class="el" href="classwpp_1_1ObjSubject.html#a56c6897642ac500f5db97c814f9eb4ba" title="Subscribes an observer to receive notifications about object operations.">wpp::ObjSubject::opSubscribe()</a></b>. <b><a class="el" href="classwpp_1_1ObjOpObserver.html" title="The ObjOpObserver class is an abstract base class that defines the interface for observing object ope...">wpp::ObjOpObserver</a></b> are informational events that inform the user about operations performed on the object from the server side. Currently, there are two events, about the creation of an object instance and its deletion.</p>
<p>Consider an example of creating an observer and registering it. Let's create an <b>ObjectObserver</b> class that will inherit from <b><a class="el" href="classwpp_1_1ObjOpObserver.html" title="The ObjOpObserver class is an abstract base class that defines the interface for observing object ope...">wpp::ObjOpObserver</a></b>. </p><div class="fragment"><div class="line"><span class="keyword">class </span>ObjectObserver : <span class="keyword">public</span> <span class="keyword">public</span> ObjOpObserver {</div>
<div class="line">    <span class="keywordtype">void</span> instanceCreated(Object &amp;<span class="keywordtype">object</span>, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> instanceId)<span class="keyword"> override </span>{}</div>
<div class="line">    <span class="keywordtype">void</span> instanceDeleting(Object &amp;<span class="keywordtype">object</span>, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> instanceId)<span class="keyword"> override </span>{}</div>
<div class="line">};</div>
<div class="line"><span class="comment">// Creating global observer for all object</span></div>
<div class="line"><span class="keyword">static</span> ObjectObserver objObserver; </div>
</div><!-- fragment --><p>Let's update the implementation of the <b>device_init()</b>, <b>server_init()</b>, <b>security_init()</b> functions by adding the <b>objObserver</b> observer registration to them. </p><div class="fragment"><div class="line">...</div>
<div class="line">Device::object(client).opSubscribe(&amp;objObserver);</div>
<div class="line">...</div>
<div class="line">Lwm2mServer::object(client).opSubscribe(&amp;objObserver);</div>
<div class="line">...</div>
<div class="line">Lwm2mSecurity::object(client).opSubscribe(&amp;objObserver);</div>
<div class="line">...</div>
</div><!-- fragment --><p>A similar approach is also implemented for monitoring <b><a class="el" href="classwpp_1_1Instance.html" title="Instance is interface class that implements manipulation with derived class resources....">wpp::Instance</a></b> events. To observe instances, it is necessary to implement one of the interfaces: <b><a class="el" href="classwpp_1_1InstOpObserver.html" title="The InstOpObserver class is an abstract base class that defines the interface for observing instance ...">wpp::InstOpObserver</a></b>, <b><a class="el" href="classwpp_1_1InstEventObserver.html" title="The InstEventObserver class is an abstract base class that defines the interface for observing instan...">wpp::InstEventObserver</a></b>, and subscribe to the observation by calling the corresponding method <b><a class="el" href="classwpp_1_1InstSubject.html#a97b1562a118301ae6943c22d4f7c3590" title="Subscribes an observer to receive notifications about instance resource operations.">wpp::InstSubject::opSubscribe()</a></b> or <b><a class="el" href="classwpp_1_1InstSubject.html#a392475c0827cea7289073b907d25c699" title="Subscribes an observer to receive notifications about custom instance events.">wpp::InstSubject::eventSubscribe()</a></b>. <b><a class="el" href="classwpp_1_1InstOpObserver.html" title="The InstOpObserver class is an abstract base class that defines the interface for observing instance ...">wpp::InstOpObserver</a></b> are informational events that notify the user about operations performed on the instance from the server side. Currently, there are two events: writing to the resource and executing. <b><a class="el" href="classwpp_1_1InstEventObserver.html" title="The InstEventObserver class is an abstract base class that defines the interface for observing instan...">wpp::InstEventObserver</a></b> allows the user to receive information about specific events of the object inherent in the implementation of the instance.</p>
<p>Will give an example of creating an observer and registering it. Let's create an <b>InstanceObserver</b> class that will inherit from <b><a class="el" href="classwpp_1_1InstOpObserver.html" title="The InstOpObserver class is an abstract base class that defines the interface for observing instance ...">wpp::InstOpObserver</a></b> and <b><a class="el" href="classwpp_1_1InstEventObserver.html" title="The InstEventObserver class is an abstract base class that defines the interface for observing instan...">wpp::InstEventObserver</a></b>. </p><div class="fragment"><div class="line"><span class="keyword">class </span>InstanceObserver : <span class="keyword">public</span> InstEventObserver, <span class="keyword">public</span> InstOpObserver {</div>
<div class="line">    <span class="keywordtype">void</span> instEvent(Instance &amp;inst, <a class="code" href="namespacewpp.html#a795d262fba652db0a0b20e85b52a739f">EVENT_ID_T</a> eventId)<span class="keyword"> override </span>{}</div>
<div class="line">    <span class="keywordtype">void</span> resourceWrite(Instance &amp;inst, <span class="keyword">const</span> ResLink &amp;resource)<span class="keyword"> override </span>{}</div>
<div class="line">    <span class="keywordtype">void</span> resourceExecute(Instance &amp;inst, <span class="keyword">const</span> ResLink &amp;resource)<span class="keyword"> override </span>{}</div>
<div class="line">};</div>
<div class="line"><span class="comment">// Creating global observer for all object</span></div>
<div class="line"><span class="keyword">static</span> InstanceObserver instObserver; </div>
<div class="ttc" id="anamespacewpp_html_a795d262fba652db0a0b20e85b52a739f"><div class="ttname"><a href="namespacewpp.html#a795d262fba652db0a0b20e85b52a739f">wpp::EVENT_ID_T</a></div><div class="ttdeci">uint8_t EVENT_ID_T</div><div class="ttdef"><b>Definition:</b> <a href="WppTypes_8h_source.html#l00018">WppTypes.h:18</a></div></div>
</div><!-- fragment --><p>Let's update the implementation of <b>device_init()</b>, <b>server_init()</b>, <b>security_init()</b> functions by adding <b>instObserver</b> observer registration to them. </p><div class="fragment"><div class="line">...</div>
<div class="line">deviceInst-&gt;opSubscribe(&amp;instObserver);</div>
<div class="line">deviceInst-&gt;eventSubscribe(&amp;instObserver);</div>
<div class="line">...</div>
<div class="line">serverInst-&gt;opSubscribe(&amp;instObserver);</div>
<div class="line">serverInst-&gt;eventSubscribe(&amp;instObserver);</div>
<div class="line">...</div>
<div class="line">securityInst-&gt;opSubscribe(&amp;instObserver);</div>
<div class="line">securityInst-&gt;eventSubscribe(&amp;instObserver);</div>
<div class="line">...</div>
</div><!-- fragment --><p>The full version of the code that gives an example of obtaining access to objects, creating their instances and registering observers for objects and instances. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>ObjectObserver : <span class="keyword">public</span> ObjOpObserver {</div>
<div class="line">    <span class="keywordtype">void</span> instanceCreated(Object &amp;<span class="keywordtype">object</span>, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> instanceId)<span class="keyword"> override </span>{}</div>
<div class="line">    <span class="keywordtype">void</span> instanceDeleting(Object &amp;<span class="keywordtype">object</span>, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> instanceId)<span class="keyword"> override </span>{}</div>
<div class="line">};</div>
<div class="line"><span class="comment">// Creating global observer for all object</span></div>
<div class="line"><span class="keyword">static</span> ObjectObserver objObserver; </div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>InstanceObserver : <span class="keyword">public</span> InstEventObserver, <span class="keyword">public</span> InstOpObserver {</div>
<div class="line">    <span class="keywordtype">void</span> instEvent(Instance &amp;inst, <a class="code" href="namespacewpp.html#a795d262fba652db0a0b20e85b52a739f">EVENT_ID_T</a> eventId)<span class="keyword"> override </span>{}</div>
<div class="line">    <span class="keywordtype">void</span> resourceWrite(Instance &amp;inst, <span class="keyword">const</span> ResLink &amp;resource)<span class="keyword"> override </span>{}</div>
<div class="line">    <span class="keywordtype">void</span> resourceExecute(Instance &amp;inst, <span class="keyword">const</span> ResLink &amp;resource)<span class="keyword"> override </span>{}</div>
<div class="line">};</div>
<div class="line"><span class="comment">// Creating global observer for all object</span></div>
<div class="line"><span class="keyword">static</span> InstanceObserver instObserver; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> device_init(WppClient &amp;client) {</div>
<div class="line">    Instance *deviceInst = <a class="code" href="classwpp_1_1Device.html#ac432215f8b888aac8862ae08de0b5e29">Device::createInst</a>(client);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1Device.html#ac063fa0e7b0f9e24c214d33b3fff5d67">Device::object</a>(client).<a class="code" href="classwpp_1_1ObjSubject.html#a56c6897642ac500f5db97c814f9eb4ba">opSubscribe</a>(&amp;objObserver);</div>
<div class="line">    deviceInst-&gt;opSubscribe(&amp;instObserver);</div>
<div class="line">    deviceInst-&gt;eventSubscribe(&amp;instObserver);</div>
<div class="line"> </div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a8490c86b5d68b38604c4d1da263304b8">Device::ERROR_CODE_11</a>, 0, <a class="code" href="classwpp_1_1Device.html#ac0f567a5f31dcf2c5a607d9c52b85908a2b0284a1adea91211a4b22b876c63b93">Device::NO_ERROR</a>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a2063af00eb615070207fbdb85a83da92">Device::SUPPORTED_BINDING_AND_MODES_16</a>, <a class="code" href="WppBindings_8h.html#a959387f6d34733937aaf15628bbbb4b6">WPP_BINDING_UDP</a>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a7932f8acd0fa48a9cea9606d126496ba">Device::MANUFACTURER_0</a>, <span class="stringliteral">&quot;Friendly&quot;</span>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a469789401f1bb559ea3f1862db3424f7">Device::MODEL_NUMBER_1</a>, <span class="stringliteral">&quot;Lightweight M2M Client&quot;</span>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a3fbe67c47ba4f4ccefb6745b01aab7d6">Device::SERIAL_NUMBER_2</a>, <span class="stringliteral">&quot;0123456789&quot;</span>);</div>
<div class="line">    deviceInst-&gt;set&lt;<a class="code" href="namespacewpp.html#a4d85886156583d63137abaa60175de67">EXECUTE_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a73c65645e48acffe71efb594770fcc97">Device::REBOOT_4</a>, [](Instance&amp; inst, <a class="code" href="namespacewpp.html#a7775e04007579766830fbaf269f32883">ID_T</a> resId, <span class="keyword">const</span> <a class="code" href="namespacewpp.html#ab2fb9aad76c194fe9302c79db9934420">OPAQUE_T</a>&amp; data) {</div>
<div class="line">        _rebootDevice = <span class="keyword">true</span>;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    });</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> server_init(WppClient &amp;client) {</div>
<div class="line">    Instance *server = <a class="code" href="classwpp_1_1Lwm2mServer.html#af4a2084d9ae8fddf34f2d46b447cfe32">Lwm2mServer::createInst</a>(client);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1Lwm2mServer.html#a6843da39d951494167724dffaac26644">Lwm2mServer::object</a>(client).<a class="code" href="classwpp_1_1ObjSubject.html#a56c6897642ac500f5db97c814f9eb4ba">opSubscribe</a>(&amp;objObserver);</div>
<div class="line">    serverInst-&gt;opSubscribe(&amp;instObserver);</div>
<div class="line">    serverInst-&gt;eventSubscribe(&amp;instObserver);</div>
<div class="line">    </div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71ada26cc91fcd1bc724174bd74de9fce9c">Lwm2mServer::SHORT_SERVER_ID_0</a>, 123);</div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71a01d37470b5248374eaac8fecff6c8719">Lwm2mServer::BINDING_7</a>, <a class="code" href="WppBindings_8h.html#a959387f6d34733937aaf15628bbbb4b6">WPP_BINDING_UDP</a>);</div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a917eca442177715c1f24b2f503946ec2">TIME_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71a2adf64569843a6e99e90dd9331444bb3">Lwm2mServer::LIFETIME_1</a>, 25);</div>
<div class="line">    server-&gt;set&lt;<a class="code" href="namespacewpp.html#a37d99ef4cc731935cc1468b1ad88fe32">BOOL_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71aaefd60e6fd4e91e227b11f2d4af0bd92">Lwm2mServer::NOTIFICATION_STORING_WHEN_DISABLED_OR_OFFLINE_6</a>, <span class="keyword">false</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> security_init(WppClient &amp;client) {</div>
<div class="line">    <a class="code" href="classwpp_1_1Instance.html">wpp::Instance</a> *security = <a class="code" href="classwpp_1_1Lwm2mSecurity.html#a3a1b4b98f1a439a6d3cdbd9ade10b451">Lwm2mSecurity::createInst</a>(client);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1Lwm2mSecurity.html#a1d48fbeb511cfb9234bcc5576ad5234d">Lwm2mSecurity::object</a>(client).<a class="code" href="classwpp_1_1ObjSubject.html#a56c6897642ac500f5db97c814f9eb4ba">opSubscribe</a>(&amp;objObserver);</div>
<div class="line">    securityInst-&gt;opSubscribe(&amp;instObserver);</div>
<div class="line">    securityInst-&gt;eventSubscribe(&amp;instObserver);</div>
<div class="line"> </div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64bacadafb7239000d45b0a65286731ddfbb">Lwm2mSecurity::SECURITY_MODE_2</a>, LWM2M_SECURITY_MODE_NONE);</div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a37d99ef4cc731935cc1468b1ad88fe32">BOOL_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64ba37f172a8d9ddf82ce665bcaa10e1434f">Lwm2mSecurity::BOOTSTRAP_SERVER_1</a>, <span class="keyword">false</span>);</div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64ba7a209e0dbdf399bcef0253d488a338fe">Lwm2mSecurity::SHORT_SERVER_ID_10</a>, 123);</div>
<div class="line">    security-&gt;<a class="code" href="classwpp_1_1ResourceContainer.html#ac7105afd1a5e4d0139606ad7ae480486">set</a>&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64bafe05b4855954583114e2fcdc12578001">Lwm2mSecurity::LWM2M_SERVER_URI_0</a>, <span class="stringliteral">&quot;coap://demodm.friendly-tech.com:5683&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> read_device_data(WppClient &amp;client) {</div>
<div class="line">    Instance *deviceInst = <a class="code" href="classwpp_1_1Device.html#a032e329845b04a155b87eee04d479abd">Device::instance</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a> errorCode = deviceInst-&gt;get&lt;<a class="code" href="namespacewpp.html#a75684c1276ab7219241c564bb3dc7e35">INT_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a8490c86b5d68b38604c4d1da263304b8">Device::ERROR_CODE_11</a>, 0);</div>
<div class="line">    <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> binding = deviceInst-&gt;get&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a2063af00eb615070207fbdb85a83da92">Device::SUPPORTED_BINDING_AND_MODES_16</a>);</div>
<div class="line">    <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> manufacture = deviceInst-&gt;get&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a7932f8acd0fa48a9cea9606d126496ba">Device::MANUFACTURER_0</a>);</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> &amp;model = deviceInst-&gt;getPtr&lt;<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a>&gt;(<a class="code" href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a469789401f1bb559ea3f1862db3424f7">Device::MODEL_NUMBER_1</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line"> </div>
<div class="line">    device_init(*client);</div>
<div class="line">    server_init(*client);</div>
<div class="line">    security_init(*client);</div>
<div class="line">    read_device_data(*client);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client-&gt;loop();</div>
<div class="line">        some_other_code();</div>
<div class="line">        delaySec(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aclasswpp_1_1Device_html_a032e329845b04a155b87eee04d479abd"><div class="ttname"><a href="classwpp_1_1Device.html#a032e329845b04a155b87eee04d479abd">wpp::Device::instance</a></div><div class="ttdeci">static Device * instance(WppClient &amp;ctx, ID_T instId=ID_T_MAX_VAL)</div><div class="ttdoc">Gets an instance of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Device_8cpp_source.html#l00053">Device.cpp:53</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_aa613d0aca0f931b7e5fc83879f326866a2063af00eb615070207fbdb85a83da92"><div class="ttname"><a href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a2063af00eb615070207fbdb85a83da92">wpp::Device::SUPPORTED_BINDING_AND_MODES_16</a></div><div class="ttdeci">@ SUPPORTED_BINDING_AND_MODES_16</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00075">Device.h:75</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_aa613d0aca0f931b7e5fc83879f326866a3fbe67c47ba4f4ccefb6745b01aab7d6"><div class="ttname"><a href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a3fbe67c47ba4f4ccefb6745b01aab7d6">wpp::Device::SERIAL_NUMBER_2</a></div><div class="ttdeci">@ SERIAL_NUMBER_2</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00038">Device.h:38</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_aa613d0aca0f931b7e5fc83879f326866a469789401f1bb559ea3f1862db3424f7"><div class="ttname"><a href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a469789401f1bb559ea3f1862db3424f7">wpp::Device::MODEL_NUMBER_1</a></div><div class="ttdeci">@ MODEL_NUMBER_1</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00035">Device.h:35</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_aa613d0aca0f931b7e5fc83879f326866a73c65645e48acffe71efb594770fcc97"><div class="ttname"><a href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a73c65645e48acffe71efb594770fcc97">wpp::Device::REBOOT_4</a></div><div class="ttdeci">@ REBOOT_4</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00043">Device.h:43</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_aa613d0aca0f931b7e5fc83879f326866a7932f8acd0fa48a9cea9606d126496ba"><div class="ttname"><a href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a7932f8acd0fa48a9cea9606d126496ba">wpp::Device::MANUFACTURER_0</a></div><div class="ttdeci">@ MANUFACTURER_0</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00032">Device.h:32</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_aa613d0aca0f931b7e5fc83879f326866a8490c86b5d68b38604c4d1da263304b8"><div class="ttname"><a href="classwpp_1_1Device.html#aa613d0aca0f931b7e5fc83879f326866a8490c86b5d68b38604c4d1da263304b8">wpp::Device::ERROR_CODE_11</a></div><div class="ttdeci">@ ERROR_CODE_11</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00062">Device.h:62</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_ac063fa0e7b0f9e24c214d33b3fff5d67"><div class="ttname"><a href="classwpp_1_1Device.html#ac063fa0e7b0f9e24c214d33b3fff5d67">wpp::Device::object</a></div><div class="ttdeci">static Object &amp; object(WppClient &amp;ctx)</div><div class="ttdoc">Gets the Object reference.</div><div class="ttdef"><b>Definition:</b> <a href="Device_8cpp_source.html#l00049">Device.cpp:49</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_ac0f567a5f31dcf2c5a607d9c52b85908a2b0284a1adea91211a4b22b876c63b93"><div class="ttname"><a href="classwpp_1_1Device.html#ac0f567a5f31dcf2c5a607d9c52b85908a2b0284a1adea91211a4b22b876c63b93">wpp::Device::NO_ERROR</a></div><div class="ttdeci">@ NO_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="Device_8h_source.html#l00112">Device.h:112</a></div></div>
<div class="ttc" id="aclasswpp_1_1Device_html_ac432215f8b888aac8862ae08de0b5e29"><div class="ttname"><a href="classwpp_1_1Device.html#ac432215f8b888aac8862ae08de0b5e29">wpp::Device::createInst</a></div><div class="ttdeci">static Device * createInst(WppClient &amp;ctx, ID_T instId=ID_T_MAX_VAL)</div><div class="ttdoc">Creates an instance of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Device_8cpp_source.html#l00059">Device.cpp:59</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mSecurity_html_a1d48fbeb511cfb9234bcc5576ad5234d"><div class="ttname"><a href="classwpp_1_1Lwm2mSecurity.html#a1d48fbeb511cfb9234bcc5576ad5234d">wpp::Lwm2mSecurity::object</a></div><div class="ttdeci">static Object &amp; object(WppClient &amp;ctx)</div><div class="ttdoc">Gets the Object reference.</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mSecurity_8cpp_source.html#l00043">Lwm2mSecurity.cpp:43</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mSecurity_html_a3a1b4b98f1a439a6d3cdbd9ade10b451"><div class="ttname"><a href="classwpp_1_1Lwm2mSecurity.html#a3a1b4b98f1a439a6d3cdbd9ade10b451">wpp::Lwm2mSecurity::createInst</a></div><div class="ttdeci">static Lwm2mSecurity * createInst(WppClient &amp;ctx, ID_T instId=ID_T_MAX_VAL)</div><div class="ttdoc">Creates an instance of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mSecurity_8cpp_source.html#l00053">Lwm2mSecurity.cpp:53</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mSecurity_html_ad8cd26df981ebd184f8624e7c67ab64ba37f172a8d9ddf82ce665bcaa10e1434f"><div class="ttname"><a href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64ba37f172a8d9ddf82ce665bcaa10e1434f">wpp::Lwm2mSecurity::BOOTSTRAP_SERVER_1</a></div><div class="ttdeci">@ BOOTSTRAP_SERVER_1</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mSecurity_8h_source.html#l00030">Lwm2mSecurity.h:30</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mSecurity_html_ad8cd26df981ebd184f8624e7c67ab64ba7a209e0dbdf399bcef0253d488a338fe"><div class="ttname"><a href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64ba7a209e0dbdf399bcef0253d488a338fe">wpp::Lwm2mSecurity::SHORT_SERVER_ID_10</a></div><div class="ttdeci">@ SHORT_SERVER_ID_10</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mSecurity_8h_source.html#l00048">Lwm2mSecurity.h:48</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mSecurity_html_ad8cd26df981ebd184f8624e7c67ab64bacadafb7239000d45b0a65286731ddfbb"><div class="ttname"><a href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64bacadafb7239000d45b0a65286731ddfbb">wpp::Lwm2mSecurity::SECURITY_MODE_2</a></div><div class="ttdeci">@ SECURITY_MODE_2</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mSecurity_8h_source.html#l00031">Lwm2mSecurity.h:31</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mSecurity_html_ad8cd26df981ebd184f8624e7c67ab64bafe05b4855954583114e2fcdc12578001"><div class="ttname"><a href="classwpp_1_1Lwm2mSecurity.html#ad8cd26df981ebd184f8624e7c67ab64bafe05b4855954583114e2fcdc12578001">wpp::Lwm2mSecurity::LWM2M_SERVER_URI_0</a></div><div class="ttdeci">@ LWM2M_SERVER_URI_0</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mSecurity_8h_source.html#l00029">Lwm2mSecurity.h:29</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mServer_html_a6843da39d951494167724dffaac26644"><div class="ttname"><a href="classwpp_1_1Lwm2mServer.html#a6843da39d951494167724dffaac26644">wpp::Lwm2mServer::object</a></div><div class="ttdeci">static Object &amp; object(WppClient &amp;ctx)</div><div class="ttdoc">Gets the Object reference.</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mServer_8cpp_source.html#l00048">Lwm2mServer.cpp:48</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mServer_html_aac2be62d50702aa13378423b4bba1a71a01d37470b5248374eaac8fecff6c8719"><div class="ttname"><a href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71a01d37470b5248374eaac8fecff6c8719">wpp::Lwm2mServer::BINDING_7</a></div><div class="ttdeci">@ BINDING_7</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mServer_8h_source.html#l00046">Lwm2mServer.h:46</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mServer_html_aac2be62d50702aa13378423b4bba1a71a2adf64569843a6e99e90dd9331444bb3"><div class="ttname"><a href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71a2adf64569843a6e99e90dd9331444bb3">wpp::Lwm2mServer::LIFETIME_1</a></div><div class="ttdeci">@ LIFETIME_1</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mServer_8h_source.html#l00032">Lwm2mServer.h:32</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mServer_html_aac2be62d50702aa13378423b4bba1a71aaefd60e6fd4e91e227b11f2d4af0bd92"><div class="ttname"><a href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71aaefd60e6fd4e91e227b11f2d4af0bd92">wpp::Lwm2mServer::NOTIFICATION_STORING_WHEN_DISABLED_OR_OFFLINE_6</a></div><div class="ttdeci">@ NOTIFICATION_STORING_WHEN_DISABLED_OR_OFFLINE_6</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mServer_8h_source.html#l00045">Lwm2mServer.h:45</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mServer_html_aac2be62d50702aa13378423b4bba1a71ada26cc91fcd1bc724174bd74de9fce9c"><div class="ttname"><a href="classwpp_1_1Lwm2mServer.html#aac2be62d50702aa13378423b4bba1a71ada26cc91fcd1bc724174bd74de9fce9c">wpp::Lwm2mServer::SHORT_SERVER_ID_0</a></div><div class="ttdeci">@ SHORT_SERVER_ID_0</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mServer_8h_source.html#l00031">Lwm2mServer.h:31</a></div></div>
<div class="ttc" id="aclasswpp_1_1Lwm2mServer_html_af4a2084d9ae8fddf34f2d46b447cfe32"><div class="ttname"><a href="classwpp_1_1Lwm2mServer.html#af4a2084d9ae8fddf34f2d46b447cfe32">wpp::Lwm2mServer::createInst</a></div><div class="ttdeci">static Lwm2mServer * createInst(WppClient &amp;ctx, ID_T instId=ID_T_MAX_VAL)</div><div class="ttdoc">Creates an instance of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Lwm2mServer_8cpp_source.html#l00058">Lwm2mServer.cpp:58</a></div></div>
<div class="ttc" id="aclasswpp_1_1ObjSubject_html_a56c6897642ac500f5db97c814f9eb4ba"><div class="ttname"><a href="classwpp_1_1ObjSubject.html#a56c6897642ac500f5db97c814f9eb4ba">wpp::ObjSubject::opSubscribe</a></div><div class="ttdeci">void opSubscribe(ObjOpObserver *observer)</div><div class="ttdoc">Subscribes an observer to receive notifications about object operations.</div><div class="ttdef"><b>Definition:</b> <a href="ObjSubject_8h_source.html#l00028">ObjSubject.h:28</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="ex_desc_add_func"></a>
Description of additional functionality</h3>
<p><b>SEND operation.</b> The <b>SEND</b> operation is used by the LwM2M Client to send data to the LwM2M Server without explicit request by that Server. The <b>SEND</b> operation can be used by the LwM2M Client to report values for Resources and Resource Instances of LwM2M Object Instance(s) to the LwM2M Server. The Resources and Resource Instances to send is implementation specific. The LwM2M Server MAY use the "Mute Send" Resource in the LwM2M Server Object (Resource ID 23) to enable or disable the use of the <b>SEND</b> operation. Для відправлення серверу повідомлення з використанням <b>SEND</b> операції, використовується наступний інтерфейс метод <b>wpp::WppClient::send()</b> у який передається посилання на дані які потрбно надіслати. </p><div class="fragment"><div class="line">Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line"> </div>
<div class="line">WppClient::create({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line"><span class="keywordflow">if</span> (WppClient::isCreated() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">WppClient *client = WppClient::takeOwnershipBlocking();</div>
<div class="line"> </div>
<div class="line">DataLink dataLink = {{<a class="code" href="namespacewpp.html#ae35ffa7d3ba976b8e0e90ffb4c973152ab3052fb7eb80b555afee49ccb5e3606d">OBJ_ID::DEVICE</a>, 0}, {Device::CURRENT_TIME_13,}};</div>
<div class="line">client-&gt;send(dataLink);</div>
</div><!-- fragment --><p><b>Lwm2mAccessControl usage.</b> If you need control over access to objects for different servers, you can enable Access Control, for this need to declare the <b>OBJ_O_2_LWM2M_ACCESS_CONTROL</b> definition during compilation and register the <b>Lwm2mAccessControl</b> object in the registry by calling <b><a class="el" href="classwpp_1_1WppRegistry.html#a78a0f15a78a1bb90a426cae9cf647eb5" title="Registers an Object in the registry.">wpp::WppRegistry::registerObj()</a></b>. After these actions, the bootstrap server will be able to create the necessary configurations for object availability. If the user needs to independently limit access to specific objects, he can use the static interface of the <b>Lwm2mAccessControl</b> class. Which allows to create rules for: objects and instances, as well as modify them.</p>
<p>An example of creating access rules for the <b>Device</b> object and its instance with ID 0, for server 123: </p><div class="fragment"><div class="line">Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line"> </div>
<div class="line">WppClient::create({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line"><span class="keywordflow">if</span> (WppClient::isCreated() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">WppClient *client = WppClient::takeOwnershipBlocking();</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if OBJ_O_2_LWM2M_ACCESS_CONTROL</span></div>
<div class="line">Lwm2mAccessControl::create(Device::object(client), Lwm2mAccessControl::ALL_OBJ_RIGHTS);</div>
<div class="line">Lwm2mAccessControl::create(*Device::instance(client), 123);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p><b>FirmwareUpdate usage.</b> It consists of three interfaces: <b>FwInternalDl</b>, <b>FwExternalDl</b> and <b>FwUpdater</b> that allowі to partially simplify the process of downloading and installing firmware. <b>FwInternalDl</b> and <b>FwExternalDl</b> are responsible for the download process, if the user plans to download the firmware himself, then he should implement only <b>FwExternalDl</b>, if the firmware will be downloaded by <b>wpp</b> library, then user needs to implement <b>FwInternalDl</b>. <b>FwUpdater</b> is responsible for the process of updating the downloaded firmware and provides information about the name and version of the firmware, as well as the update status. An example of the implementation of the mentioned interfaces and how to use them can be seen in the folder <a href="../../examples/FirmwareUpdater"><b>FirmwareUpdater</b></a>.</p>
<h3><a class="anchor" id="ex_platform_dependent"></a>
Platform Dependencies</h3>
<p><b>Wpp</b> has a part that depends on the platform on which the library is running. This part is presented in the form of three interfaces <b><a class="el" href="classwpp_1_1WppPlatform.html" title="The WppPlatform class provides a platform-specific implementation for the Wpp library.">wpp::WppPlatform</a></b>, <b><a class="el" href="classwpp_1_1WppGuard.html" title="The WppGuard class provides a linker callback class that must be implemented by the user.">wpp::WppGuard</a></b> and <b><a class="el" href="classwpp_1_1WppConnection.html">wpp::WppConnection</a></b>, which must be implemented by the user. To get more information about their purpose, you can go to the corresponding part with a description of the code, and to get an implementation example, go to the <a href="../../examples/platform"><b>platform</b></a> folder.</p>
<h3><a class="anchor" id="ex_wpp_task_queue"></a>
Wpp Task Queue</h3>
<p><b>Wpp</b> has an internal simplified task scheduler that runs in the context of the library and processes existing tasks when calling <b><a class="el" href="classwpp_1_1WppClient.html#aafd44d1c81f8ee217675bcd27173b67f" title="Processes the state of the Wakaama core. This function performs the necessary work by the Wakaama cor...">wpp::WppClient::loop()</a></b>. Its work features are described in more detail <a class="el" href="architecture_tag.html#arch_wpp_task_queue">**here**</a>. It is used simultaneously for the internal needs of the libraries, such as updating the time in the resource of the Device object, and for the needs of the user. That is, the user can create his own task that will be performed in the context of the library, once or during a certain period of time, a more detailed description of the interface can be found at the following link <b><a class="el" href="classwpp_1_1WppTaskQueue.html" title="Represents a task queue.">wpp::WppTaskQueue</a></b>.</p>
<p>Let's give an example of creating a task that will be executed only once in 5 seconds. </p><div class="fragment"><div class="line">WppTaskQueue::addTask(5, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 1&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><p>An example of a task that will be performed continuously with an interval of 2 seconds. </p><div class="fragment"><div class="line">WppTaskQueue::addTask(2, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 2&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><p>An example of a task that will be performed 3 times with an interval of 10 seconds. </p><div class="fragment"><div class="line">WppTaskQueue::addTask(10, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 3&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    cnt++;</div>
<div class="line">    <span class="keywordflow">return</span> cnt == 3;</div>
<div class="line">});</div>
</div><!-- fragment --><p>If necessary, the context may be passed to the task by reference or by copying. Let's give an example of creating a task that will be executed only once in 3 seconds and pass a link to the data to it. </p><div class="fragment"><div class="line"><a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> data1 = <span class="stringliteral">&quot;Test string for task 4!&quot;</span>;</div>
<div class="line">WppTaskQueue::addTask(&amp;data1, 5, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 4, data: &quot;</span> &lt;&lt; *((<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> *)ctx) &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><p>Let's give an example of creating a task that will be executed only once after 4 seconds and transfer a copy of the data to it. </p><div class="fragment"><div class="line"><a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> data2 = <span class="stringliteral">&quot;Test string for task 5!&quot;</span>;</div>
<div class="line">WppTaskQueue::addTaskWithCopy(data2.c_str(), data2.size(), 5, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 5, data: &quot;</span> &lt;&lt; (char *)ctx &lt;&lt; std::endl;</div>
<div class="line">    return true;</div>
<div class="line">});</div>
</div><!-- fragment --><p>The whole example together. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppClient_8h.html">WppClient.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="WppRegistry_8h.html">WppRegistry.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacewpp.html">wpp</a>;</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">int main() {</div>
<div class="line">    Connection connection(<span class="stringliteral">&quot;56830&quot;</span>, AF_INET);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#acbb496e6d1f834b441a8d4ff17b2166e">WppClient::create</a>({<span class="stringliteral">&quot;TestLwm2mClient&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>}, connection);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classwpp_1_1WppClient.html#ac80c3ab6f50a522b72d7902e23b9b4b0">WppClient::isCreated</a>() == <span class="keyword">false</span>) <span class="keywordflow">return</span> -1;</div>
<div class="line">    WppClient *client = <a class="code" href="classwpp_1_1WppClient.html#ac8e1eb3f8542f0f0f93f3abf897a70da">WppClient::takeOwnershipBlocking</a>();</div>
<div class="line"> </div>
<div class="line">    device_init(*client);</div>
<div class="line">    server_init(*client);</div>
<div class="line">    security_init(*client);</div>
<div class="line">    read_device_data(*client);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppTaskQueue.html#aae9ef4d3ef73b842d2242b8f1ead620b">WppTaskQueue::addTask</a>(5, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 1&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="classwpp_1_1WppTaskQueue.html#aae9ef4d3ef73b842d2242b8f1ead620b">WppTaskQueue::addTask</a>(2, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 2&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="classwpp_1_1WppTaskQueue.html#aae9ef4d3ef73b842d2242b8f1ead620b">WppTaskQueue::addTask</a>(10, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 3&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        cnt++;</div>
<div class="line">        <span class="keywordflow">return</span> cnt == 3;</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> data1 = <span class="stringliteral">&quot;Test string for task 4!&quot;</span>;</div>
<div class="line">    <a class="code" href="classwpp_1_1WppTaskQueue.html#aae9ef4d3ef73b842d2242b8f1ead620b">WppTaskQueue::addTask</a>(&amp;data1, 5, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 4, data: &quot;</span> &lt;&lt; *((<a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> *)ctx) &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespacewpp.html#a8d11d19df01a38346c5da68ea17b973b">STRING_T</a> data2 = <span class="stringliteral">&quot;Test string for task 5!&quot;</span>;</div>
<div class="line">    <a class="code" href="classwpp_1_1WppTaskQueue.html#ac68679e8bfde724eb849422215074352">WppTaskQueue::addTaskWithCopy</a>(data2.c_str(), data2.size() , 5, [](WppClient &amp;client, <span class="keywordtype">void</span> *ctx) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Wpp user task 5, data: &quot;</span> &lt;&lt; (char *)ctx &lt;&lt; std::endl;</div>
<div class="line">        return true;</div>
<div class="line">    });</div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        client-&gt;loop();</div>
<div class="line">        some_other_code();</div>
<div class="line">        delaySec(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classwpp_1_1WppClient.html#a9cda9286f3b2610674a468df69364366">WppClient::remove</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aWppRegistry_8h_html"><div class="ttname"><a href="WppRegistry_8h.html">WppRegistry.h</a></div></div>
<div class="ttc" id="aclasswpp_1_1WppTaskQueue_html_aae9ef4d3ef73b842d2242b8f1ead620b"><div class="ttname"><a href="classwpp_1_1WppTaskQueue.html#aae9ef4d3ef73b842d2242b8f1ead620b">wpp::WppTaskQueue::addTask</a></div><div class="ttdeci">static task_id_t addTask(time_t delaySec, task_t task)</div><div class="ttdoc">Add task to queue, ctx that passed to task equals to NULL.</div><div class="ttdef"><b>Definition:</b> <a href="WppTaskQueue_8cpp_source.html#l00022">WppTaskQueue.cpp:22</a></div></div>
<div class="ttc" id="aclasswpp_1_1WppTaskQueue_html_ac68679e8bfde724eb849422215074352"><div class="ttname"><a href="classwpp_1_1WppTaskQueue.html#ac68679e8bfde724eb849422215074352">wpp::WppTaskQueue::addTaskWithCopy</a></div><div class="ttdeci">static task_id_t addTaskWithCopy(const void *ctx, size_t size, time_t delaySec, task_t task)</div><div class="ttdoc">Add task to queue, ctx passed to task by pointer with copy, allocated memory will be relesed after de...</div><div class="ttdef"><b>Definition:</b> <a href="WppTaskQueue_8cpp_source.html#l00053">WppTaskQueue.cpp:53</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="ex_object_maker_tools"></a>
Object Maker Tools</h3>
<p>The purpose and general overview of the utilities is <a class="el" href="architecture_tag.html#arch_object_maker_tools">**here**</a>. We will give an example of generating, integrating, deleting and updating an object, for this we will use the object <a href="https://devtoolkit.openmobilealliance.org/OEditor/LWMOView?url=https%3A%2F%2Fraw.githubusercontent.com %2FOpenMobileAlliance%2Flwm2m-registry%2Fprod%2Fversion_history%2F3303-1_0.xml"><b>Temperature</b></a>.</p>
<p>First, consider an example of generating an object via a URL. The example of generation through a file is similar, so it will not be considered separately. For generation, we will use the following link <a href="https://raw.githubusercontent.com/OpenMobileAlliance/lwm2m-registry/prod/version_history/3303-1_0.xml"><b>Temperature 1.0</b></a>.</p>
<p>To interact with the utility, go to the <b>utils/object_maker</b> folder and start the generation. </p><div class="fragment"><div class="line">./object_maker.py -g link https://raw.githubusercontent.com/OpenMobileAlliance/lwm2m-registry/prod/version_history/3303-1_0.xml</div>
</div><!-- fragment --><p>If the generation was successful, the following message <b>[ObjectGenerator::]: the Object Temperature generated successfully</b> will be displayed in the terminal and a folder <b>o_3303_temperature</b> with the code will be created in the current folder.</p>
<p>After successful generation, you can proceed to the integration of the generated object in <b><a class="el" href="classwpp_1_1WppRegistry.html" title="The WppRegistry class represents a registry for managing LWM2M objects.">wpp::WppRegistry</a></b>. For this, we will use the utility for integration. </p><div class="fragment"><div class="line">./object_maker.py -i o_3303_temperature</div>
</div><!-- fragment --><p>If the integration is successful, the generated folder <b>o_3303_temperature</b> will be moved to the following path <b>wpp/registry/objects</b>, a new method for accessing the temperature object will appear in <b><a class="el" href="classwpp_1_1WppRegistry.html" title="The WppRegistry class represents a registry for managing LWM2M objects.">wpp::WppRegistry</a></b> and in the objects configuration file <b>wpp/configs/wpp_config.cmake</b> new option define <b>OBJ_O_3303_TEMPERATURE</b>.</p>
<p>For example, let's try to update the version of the object from 1.0 to 1.1. During an upgrade, all implementation code is migrated, and resource configurations are also migrated. To do this, we will use the update utility, which needs to specify two parameters: the path to the object to be updated (in our case, it is /home/user/wpp/registry/objects/o_3303_temperature) and the path to the .xml file that contains the description for the new object (3303-1_1.xml). </p><div class="fragment"><div class="line">./object_maker.py -c /home/user/wpp/registry/objects/o_3303_temperature 3303-1_1.xml</div>
</div><!-- fragment --><p>Also, using the utility, you can completely delete the object from the registry. To do this, you need to pass the path to the folder with the object to be deleted. </p><div class="fragment"><div class="line">./object_maker.py -r /home/user/wpp/registry/objects/o_3303_temperature</div>
</div><!-- fragment --><p>During removal, the actions are the reverse of those during integration. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
